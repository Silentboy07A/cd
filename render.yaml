
services:
  # User Service
  - type: web
    name: user-service
    env: node
    rootDir: services/user-service
    buildCommand: npm install
    startCommand: npm start
    envVars:
      - key: CONVEX_URL
        value: https://nautical-marten-546.convex.cloud
      - key: JWT_SECRET
        generateValue: true # User must provide this in Render Dashboard

  # Product Service
  - type: web
    name: product-service
    env: node
    rootDir: services/product-service
    buildCommand: npm install
    startCommand: npm start
    envVars:
      - key: CONVEX_URL
        value: https://nautical-marten-546.convex.cloud
      - key: JWT_SECRET
        generateValue: true

  # Order Service
  - type: web
    name: order-service
    env: node
    rootDir: services/order-service
    buildCommand: npm install
    startCommand: npm start
    envVars:
      - key: CONVEX_URL
        value: https://nautical-marten-546.convex.cloud
      - key: JWT_SECRET
        generateValue: true

  # Payment Service
  - type: web
    name: payment-service
    env: node
    rootDir: services/payment-service
    buildCommand: npm install
    startCommand: npm start
    envVars:
      - key: CONVEX_URL
        value: https://nautical-marten-546.convex.cloud
